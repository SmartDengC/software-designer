


---
title: 《Exam：3、数据库系统》
author: joe dengc
date: 2023-03-04 15:54
tags:
categories:
---


# 0x01 数据库系统章节概述


# 0x02 数据库的基本概念
1、数据库的基本概念
- 三级模式结构
- 数据仓库
- 数据库体系结构
2、数据库设计过程
- 概念设计
	- 概念设计过程
	- E-R图
- 逻辑结构设计
	- 关系模式相关概念
	- ER图转关系模式
	- 关系代数
		- 并交
		- 笛卡尔积
		- 投影与悬着
		- 自然选择
	- 规范化理论
		- 模式分解
		- 范式判断
		- 规范化理论基本概念
3、SQL语言
- 普通查询
- 分组查询
- 授权语句
4、并发控制
- 实物特性
- 并发问题
5、数据库设计【案例应用】

# 0x03 数据设计过程
## 1、数据库体系结构
- 集中实数据库系统
- CS结构，ODBC，JDBC
- 分布式数据库
- 并行数据库
### 分布式数据库
数据独立性：除了数据的逻辑独立性和物理独立性外，还有数据分布独立性
集中于自治共享结合的控制结构：系统设置集中控制机制，协调个局部DBMS的工作
适当增加数据冗余度：提高系统可靠性和可用性
全局的一致性

### 分布式数据透明性
- 分片透明：用户不用关心是如何分片的，他们对数据的操作在全局关系上进行，即如何分片对用户是透明的。
- 复制透明：用户不用关心数据库在网络中各个节点的复制情况，被复制的数据的更新都有系统自动完成
- 位置透明：用户不必知道所操作的数据放在哪里，即数据分配到那个节点对用户是透明的
- 局部映像透明性（逻辑透明）：是最低层次的透明性，该透明性提供数据到局部数据库的映像，即用户不必关心局部DBMS支持那种数据模型，使用那种数据操纵语言，数据模型和操纵语言的转换是由系统完成的。


## 2、三级模式结构
三级模式和两级映像

视图级-外模式 用户模式
表级 概念模式 模式
文件级 内模式 存储模式

问题：
数据的物理独立性和逻辑独立性分别是通过修改（）来完成的- 模式与内模式之间的映像、外模式与模式之间的映像



## 3、数据仓库

# 0x04 概念设计节点
一、进行需求分析，产物：数据流图、数据字典、需求说明书
概念结构设计 er模型
逻辑结构设计  转换规则， 规范化理论， 关系模式
物理设计 硬件os， 聚簇索引

冲突集成


## E-R图
e 实体，r 关系
实体，
属性，
联系，

### 属性 
简单属性，复合属性， 原子属性，（地址）
单指属性和多值属性
NULL属性
派生属性，可以由其他属性推出其他属性


### 联系
1对1， 1对多，多对多


# 0x05 逻辑结构设计
关系模式

关系模式相关的概念
目或者度：关系模式中属性的个数
候选码：唯一标识元组，且无冗余
主键：人选一个候选码
主属性和非主属性：组成候选码的属性


### 基本关系表
### 查询表

### 视图表

完整性约束
实体完整性： 主键唯一，非空
参照完整性：外键，要么是其他主键，要么时空
用户自定义完整性：

## ER图转关系模式
一个实体必须转换为一个关系模式
联系转关系模式

# 0x06 关系代数
![](Pasted%20image%2020230506224808.png)



# 0x07 规范化理论

## 规范化理论的基本概念
逻辑设计阶段
### 函数依赖
什么是函数依赖？
x->y  x表示决定因素，y表示被决定因素
部分函数依赖，ab -> c, a->c
传递函数依赖  a->b, b->c

传递率
自反性，
增广律， x->y, ax->ay
合并规则， x->y, x->z  ,  x->yz

### 候选键
唯一标识元组，且无冗余
入度为0的属性
## 范式判断
没有范式存在的问题， 数据冗余、删除异常、插入异常、修改异常

规范化理论-范式
第一范式： 在关系模式中，当且进的那个所有域值包含院子值，即每个属性都是不可再分的数据项，则称关系模式r位第一范式
第二范式：当且晋档关系模式r是第一范式，且每一个非主属性完全依赖候选键（没有不完全依赖）时，则称关系模式r是第二范式
第三范式：当且晋档关系模式r是第二范式，且r中没有非主属性传递依赖于候选键时，则称关系模式r是第三范式

BC范式：设r是一个关系模式，f是他的依赖集，r属于bc范式当且晋档其f中每个以来的决定因素必定包含r的某个候选码

没有非主属性，至少满足第三范式


## 模式分解
函数依赖， 
保持函数依赖分解，冗余函数依赖是不需要保持的

无损分解
什么是有损（不能还原），什么是无损
表格法
![](Pasted%20image%2020230509124612.png)

# 0x08 SQL语言
![](Pasted%20image%2020230509125933.png)

# 0x09 并发控制

## 事务的过程

ACID
原子性：事务是原子性，要么都做要么都不做
一致性：事务执行的结果必须保证数据库
隔离性：事务相互隔离
持续性：一旦事务成功提交，永久有效（先写日志，在写数据）

## 并发问题
丢失更新， 在没有提交之前，另外的事务对数据进行了修改
读脏数据，事务在写入之后，被rockback， 读出错误的事务
不可重复读， 在进行验证的时候，其他事务对数据进行了修改

## 封锁协议
s封锁
x封锁
两段所协议
# 0x10 数据库系统章节回顾